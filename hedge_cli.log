2025-10-03 19:55:50,559 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-03 19:55:50,560 - hedge_cli - INFO - Checking BTC...
2025-10-03 19:55:50,560 - hedge_cli - INFO - Checking ETH...
2025-10-03 19:55:50,561 - hedge_cli - INFO - Checking SOL...
2025-10-03 19:55:50,561 - hedge_cli - INFO - Checking BNB...
2025-10-03 19:55:50,561 - hedge_cli - INFO - Checking ASTER...
2025-10-03 19:55:50,562 - hedge_cli - INFO - Checking PAXG...
2025-10-03 19:55:50,562 - hedge_cli - INFO - Checking DOGE...
2025-10-03 19:55:50,562 - hedge_cli - INFO - Checking XRP...
2025-10-03 19:55:50,562 - hedge_cli - INFO - Checking LINK...
2025-10-03 19:55:50,563 - hedge_cli - INFO - Checking HYPE...
2025-10-03 19:55:50,564 - hedge_cli - INFO - Checking XPL...
2025-10-03 19:55:50,564 - hedge_cli - INFO - Checking TRUMP...
2025-10-03 19:55:50,564 - hedge_cli - INFO - Checking LTC...
2025-10-03 19:55:50,564 - hedge_cli - INFO - Checking PUMP...
2025-10-03 19:55:50,565 - hedge_cli - INFO - Checking FARTCOIN...
2025-10-03 19:56:24,965 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-03 19:56:24,970 - root - DEBUG - Detected x64/amd architecture on Linux.
2025-10-03 19:56:24,981 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
2025-10-03 19:56:26,170 - urllib3.connectionpool - DEBUG - https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=107607&api_key_index=25 HTTP/1.1" 200 26
2025-10-03 19:56:27,592 - hedge_cli - INFO - Fetching Lighter prices for HYPE (market_id=24) via WebSocket...
2025-10-03 19:56:27,659 - hedge_cli - DEBUG - EdgeX quote response: {'code': 'SUCCESS', 'data': [{'contractId': '10000072', 'contractName': 'HYPEUSD', 'priceChange': '-0.973', 'priceChangePercent': '-0.019084', 'trades': '35742', 'size': '1635351.27', 'value': '81580293.49492', 'high': '51.085', 'low': '48.492', 'open': '50.983', 'close': '50.010', 'highTime': '1759434404672', 'lowTime': '1759501118234', 'startTime': '1759434300000', 'endTime': '1759520700000', 'lastPrice': '50.010', 'indexPrice': '49.957', 'oraclePrice': '50.02385727129876613616943359375', 'openInterest': '75472.27', 'fundingRate': '0.00096190', 'fundingTime': '1759507200000', 'nextFundingTime': '1759521600000'}], 'msg': None, 'errorParam': None, 'requestTime': '1759521380943', 'responseTime': '1759521380945', 'traceId': '30ebbc2aaf55d34853b202b6ec14e987'}
2025-10-03 19:56:27,659 - hedge_cli - INFO - EdgeX: bestBid/bestAsk not found, using synthetic spread around lastPrice 50.01: bid=49.984995, ask=50.035005
2025-10-03 19:56:27,890 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-03 19:56:28,562 - websockets.client - DEBUG - > GET /stream HTTP/1.1
2025-10-03 19:56:28,562 - websockets.client - DEBUG - > Host: mainnet.zklighter.elliot.ai
2025-10-03 19:56:28,563 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-03 19:56:28,563 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-03 19:56:28,563 - websockets.client - DEBUG - > Sec-WebSocket-Key: tTj+QpU0JdoeRqNauhVBdQ==
2025-10-03 19:56:28,563 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-03 19:56:28,563 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-03 19:56:28,563 - websockets.client - DEBUG - > User-Agent: Python/3.10 websockets/15.0.1
2025-10-03 19:56:28,885 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-03 19:56:28,885 - websockets.client - DEBUG - < Date: Fri, 03 Oct 2025 19:56:28 GMT
2025-10-03 19:56:28,885 - websockets.client - DEBUG - < Connection: upgrade
2025-10-03 19:56:28,885 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-03 19:56:28,885 - websockets.client - DEBUG - < Sec-WebSocket-Accept: RUu/cW+4Y8SkX4scPrdHS9pHMDM=
2025-10-03 19:56:28,886 - websockets.client - DEBUG - < Vary: Origin
2025-10-03 19:56:28,886 - websockets.client - DEBUG - < Vary: Origin
2025-10-03 19:56:28,886 - websockets.client - DEBUG - < Access-Control-Allow-Origin: *
2025-10-03 19:56:28,886 - websockets.client - DEBUG - < Access-Control-Allow-Methods: GET, HEAD, POST, PATCH, PUT, DELETE
2025-10-03 19:56:28,886 - websockets.client - DEBUG - < Access-Control-Allow-Headers: Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range
2025-10-03 19:56:28,886 - websockets.client - DEBUG - < Access-Control-Expose-Headers: Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers
2025-10-03 19:56:28,887 - websockets.client - DEBUG - < Access-Control-Allow-Credentials: true
2025-10-03 19:56:28,887 - websockets.client - DEBUG - < Access-Control-Max-Age: 86400
2025-10-03 19:56:28,887 - websockets.client - DEBUG - = connection is OPEN
2025-10-03 19:56:28,887 - websockets.client - DEBUG - < TEXT '{"session_id":"1564ec8a-f434-45df-af46-65f1d944b234","type":"connected"}' [72 bytes]
2025-10-03 19:56:28,888 - websockets.client - DEBUG - > TEXT '{"type": "subscribe", "channel": "order_book/24"}' [49 bytes]
2025-10-03 19:56:29,781 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57385,"orde...subscribed/order_book"}' [69783 bytes]
2025-10-03 19:56:29,781 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57386,"orde...e":"update/order_book"}' [187 bytes]
2025-10-03 19:56:29,781 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57387,"orde...e":"update/order_book"}' [188 bytes]
2025-10-03 19:56:29,782 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57388,"orde...e":"update/order_book"}' [189 bytes]
2025-10-03 19:56:29,782 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57389,"orde...e":"update/order_book"}' [293 bytes]
2025-10-03 19:56:29,782 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57390,"orde...e":"update/order_book"}' [259 bytes]
2025-10-03 19:56:29,783 - hedge_cli - INFO - Lighter callback triggered: update #1, market_id=24, target=24
2025-10-03 19:56:29,783 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 567 asks
2025-10-03 19:56:29,783 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,784 - hedge_cli - INFO - Lighter callback triggered: update #2, market_id=24, target=24
2025-10-03 19:56:29,784 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 566 asks
2025-10-03 19:56:29,784 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,784 - hedge_cli - INFO - Lighter callback triggered: update #3, market_id=24, target=24
2025-10-03 19:56:29,784 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 566 asks
2025-10-03 19:56:29,785 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,785 - hedge_cli - INFO - Lighter callback triggered: update #4, market_id=24, target=24
2025-10-03 19:56:29,785 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 566 asks
2025-10-03 19:56:29,785 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,786 - hedge_cli - INFO - Lighter callback triggered: update #5, market_id=24, target=24
2025-10-03 19:56:29,786 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 566 asks
2025-10-03 19:56:29,786 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,786 - hedge_cli - INFO - Lighter callback triggered: update #6, market_id=24, target=24
2025-10-03 19:56:29,786 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 567 asks
2025-10-03 19:56:29,787 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,787 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57391,"orde...e":"update/order_book"}' [363 bytes]
2025-10-03 19:56:29,787 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57392,"orde...e":"update/order_book"}' [223 bytes]
2025-10-03 19:56:29,787 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57393,"orde...e":"update/order_book"}' [187 bytes]
2025-10-03 19:56:29,787 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57394,"orde...e":"update/order_book"}' [221 bytes]
2025-10-03 19:56:29,788 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57395,"orde...e":"update/order_book"}' [189 bytes]
2025-10-03 19:56:29,788 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57396,"orde...e":"update/order_book"}' [188 bytes]
2025-10-03 19:56:29,788 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57397,"orde...e":"update/order_book"}' [188 bytes]
2025-10-03 19:56:29,788 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57398,"orde...e":"update/order_book"}' [288 bytes]
2025-10-03 19:56:29,788 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57399,"orde...e":"update/order_book"}' [187 bytes]
2025-10-03 19:56:29,789 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57400,"orde...e":"update/order_book"}' [222 bytes]
2025-10-03 19:56:29,789 - hedge_cli - INFO - Lighter callback triggered: update #7, market_id=24, target=24
2025-10-03 19:56:29,789 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 567 asks
2025-10-03 19:56:29,789 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,790 - hedge_cli - INFO - Lighter callback triggered: update #8, market_id=24, target=24
2025-10-03 19:56:29,790 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 567 asks
2025-10-03 19:56:29,790 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,790 - hedge_cli - INFO - Lighter callback triggered: update #9, market_id=24, target=24
2025-10-03 19:56:29,791 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 568 asks
2025-10-03 19:56:29,791 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,791 - hedge_cli - INFO - Lighter callback triggered: update #10, market_id=24, target=24
2025-10-03 19:56:29,791 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 570 asks
2025-10-03 19:56:29,791 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,792 - hedge_cli - INFO - Lighter callback triggered: update #11, market_id=24, target=24
2025-10-03 19:56:29,792 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 570 asks
2025-10-03 19:56:29,792 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,792 - hedge_cli - INFO - Lighter callback triggered: update #12, market_id=24, target=24
2025-10-03 19:56:29,792 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 570 asks
2025-10-03 19:56:29,793 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,793 - hedge_cli - INFO - Lighter callback triggered: update #13, market_id=24, target=24
2025-10-03 19:56:29,793 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 571 asks
2025-10-03 19:56:29,793 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,794 - hedge_cli - INFO - Lighter callback triggered: update #14, market_id=24, target=24
2025-10-03 19:56:29,794 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 571 asks
2025-10-03 19:56:29,794 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,794 - hedge_cli - INFO - Lighter callback triggered: update #15, market_id=24, target=24
2025-10-03 19:56:29,795 - hedge_cli - INFO - Lighter HYPE: Received 1424 bids, 571 asks
2025-10-03 19:56:29,795 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,795 - hedge_cli - INFO - Lighter callback triggered: update #16, market_id=24, target=24
2025-10-03 19:56:29,795 - hedge_cli - INFO - Lighter HYPE: Received 1423 bids, 571 asks
2025-10-03 19:56:29,795 - hedge_cli - INFO - Lighter HYPE: bid=50.0737, ask=50.0793
2025-10-03 19:56:29,796 - hedge_cli - INFO - Lighter: Received 16 updates for HYPE
2025-10-03 19:56:30,050 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57401,"orde...e":"update/order_book"}' [188 bytes]
2025-10-03 19:56:30,095 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57402,"orde...e":"update/order_book"}' [223 bytes]
2025-10-03 19:56:30,107 - hedge_cli - DEBUG - Lighter position fields: ['_AccountPosition__properties', '__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_get_value', '_iter', '_setattr_handler', 'additional_properties', 'allocated_margin', 'avg_entry_price', 'construct', 'copy', 'dict', 'from_dict', 'from_json', 'from_orm', 'initial_margin_fraction', 'json', 'liquidation_price', 'margin_mode', 'market_id', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'open_order_count', 'parse_file', 'parse_obj', 'parse_raw', 'pending_order_count', 'position', 'position_tied_order_count', 'position_value', 'realized_pnl', 'schema', 'schema_json', 'sign', 'symbol', 'to_dict', 'to_json', 'to_str', 'total_funding_paid_out', 'unrealized_pnl', 'update_forward_refs', 'validate']
2025-10-03 19:56:30,155 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57403,"orde...e":"update/order_book"}' [292 bytes]
2025-10-03 19:56:30,209 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57404,"orde...e":"update/order_book"}' [222 bytes]
2025-10-03 19:56:30,242 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57405,"orde...e":"update/order_book"}' [223 bytes]
2025-10-03 19:56:30,268 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57406,"orde...e":"update/order_book"}' [221 bytes]
2025-10-03 19:56:30,273 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57407,"orde...e":"update/order_book"}' [223 bytes]
2025-10-03 19:56:30,279 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57408,"orde...e":"update/order_book"}' [257 bytes]
2025-10-03 19:56:30,282 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57409,"orde...e":"update/order_book"}' [293 bytes]
2025-10-03 19:56:30,297 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57410,"orde...e":"update/order_book"}' [363 bytes]
2025-10-03 19:56:30,315 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57411,"orde...e":"update/order_book"}' [363 bytes]
2025-10-03 19:56:30,328 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57412,"orde...e":"update/order_book"}' [221 bytes]
2025-10-03 19:56:30,341 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57413,"orde...e":"update/order_book"}' [187 bytes]
2025-10-03 19:56:30,383 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57414,"orde...e":"update/order_book"}' [221 bytes]
2025-10-03 19:56:30,431 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57415,"orde...e":"update/order_book"}' [190 bytes]
2025-10-03 19:56:30,433 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57416,"orde...e":"update/order_book"}' [187 bytes]
2025-10-03 19:56:30,470 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57417,"orde...e":"update/order_book"}' [187 bytes]
2025-10-03 19:56:30,495 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57418,"orde...e":"update/order_book"}' [189 bytes]
2025-10-03 19:56:30,509 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57419,"orde...e":"update/order_book"}' [224 bytes]
2025-10-03 19:56:30,517 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57420,"orde...e":"update/order_book"}' [255 bytes]
2025-10-03 19:56:30,528 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57421,"orde...e":"update/order_book"}' [187 bytes]
2025-10-03 19:56:30,542 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57422,"orde...e":"update/order_book"}' [189 bytes]
2025-10-03 19:56:30,580 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57423,"orde...e":"update/order_book"}' [187 bytes]
2025-10-03 19:56:30,610 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57424,"orde...e":"update/order_book"}' [290 bytes]
2025-10-03 19:56:30,614 - hedge_cli - DEBUG - Lighter funding payment: -0.021513 USD at 1759518000
2025-10-03 19:56:30,614 - hedge_cli - DEBUG - Lighter funding payment: -0.024542 USD at 1759514400
2025-10-03 19:56:30,614 - hedge_cli - DEBUG - Lighter funding payment: -0.020845 USD at 1759510800
2025-10-03 19:56:30,614 - hedge_cli - DEBUG - Lighter funding payment: -0.007518 USD at 1759507200
2025-10-03 19:56:30,620 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57425,"orde...e":"update/order_book"}' [363 bytes]
2025-10-03 19:56:30,627 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57426,"orde...e":"update/order_book"}' [363 bytes]
2025-10-03 19:56:30,635 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57427,"orde...e":"update/order_book"}' [221 bytes]
2025-10-03 19:56:30,654 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57428,"orde...e":"update/order_book"}' [189 bytes]
2025-10-03 19:56:30,778 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":57429,"orde...e":"update/order_book"}' [222 bytes]
2025-10-03 19:56:30,783 - hedge_cli - DEBUG - EdgeX transaction response code: SUCCESS
2025-10-03 19:56:30,783 - hedge_cli - INFO - EdgeX: Found 2 total transactions for contract 10000072
2025-10-03 19:56:30,784 - hedge_cli - INFO - EdgeX transaction types: {'SETTLE_FUNDING_FEE': 1, 'SELL_POSITION': 1}
2025-10-03 19:56:30,784 - hedge_cli - INFO - EdgeX position opened at 1759503862451
2025-10-03 19:56:30,784 - hedge_cli - DEBUG - EdgeX funding payment: 0.317409 USD at 1759507200203
2025-10-03 19:56:40,793 - websockets.client - DEBUG - - timed out waiting for TCP close
2025-10-03 19:56:40,793 - websockets.client - DEBUG - x closing TCP connection
2025-10-03 19:56:50,794 - websockets.client - DEBUG - - timed out waiting for TCP close
2025-10-03 19:56:50,794 - websockets.client - DEBUG - x aborting TCP connection
2025-10-03 19:56:50,794 - websockets.client - DEBUG - = connection is CLOSED
2025-10-04 08:32:31,446 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-04 08:32:31,446 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-04 08:32:31,446 - hedge_cli - INFO - Checking leverage for BTC...
2025-10-04 08:32:31,451 - root - DEBUG - Detected x64/amd architecture on Linux.
2025-10-04 08:32:31,466 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
2025-10-04 08:32:31,522 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-04 08:32:31,530 - root - DEBUG - Detected x64/amd architecture on Linux.
2025-10-04 08:32:31,538 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
2025-10-04 08:32:31,603 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-04 08:32:31,604 - hedge_cli - INFO - Checking BTC...
2025-10-04 08:32:31,605 - hedge_cli - INFO - Checking ETH...
2025-10-04 08:32:31,605 - hedge_cli - INFO - Checking SOL...
2025-10-04 08:32:31,605 - hedge_cli - INFO - Checking BNB...
2025-10-04 08:32:31,606 - hedge_cli - INFO - Checking ASTER...
2025-10-04 08:32:31,606 - hedge_cli - INFO - Checking PAXG...
2025-10-04 08:32:31,607 - hedge_cli - INFO - Checking DOGE...
2025-10-04 08:32:31,607 - hedge_cli - INFO - Checking XRP...
2025-10-04 08:32:31,608 - hedge_cli - INFO - Checking LINK...
2025-10-04 08:32:31,608 - hedge_cli - INFO - Checking HYPE...
2025-10-04 08:32:31,610 - hedge_cli - INFO - Checking XPL...
2025-10-04 08:32:31,610 - hedge_cli - INFO - Checking TRUMP...
2025-10-04 08:32:31,610 - hedge_cli - INFO - Checking LTC...
2025-10-04 08:32:31,611 - hedge_cli - INFO - Checking PUMP...
2025-10-04 08:32:31,611 - hedge_cli - INFO - Checking FARTCOIN...
2025-10-04 08:32:31,647 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-04 08:32:31,652 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-04 08:32:31,654 - root - DEBUG - Detected x64/amd architecture on Linux.
2025-10-04 08:32:31,658 - root - DEBUG - Detected x64/amd architecture on Linux.
2025-10-04 08:32:31,665 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
2025-10-04 08:32:31,669 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
2025-10-04 08:32:31,680 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-04 08:32:31,692 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-04 08:32:31,698 - root - DEBUG - Detected x64/amd architecture on Linux.
2025-10-04 08:32:31,708 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
2025-10-04 08:32:31,719 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-04 08:32:31,781 - asyncio - DEBUG - Using selector: EpollSelector
2025-10-04 08:32:31,787 - root - DEBUG - Detected x64/amd architecture on Linux.
2025-10-04 08:32:31,793 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
2025-10-04 08:32:31,800 - hedge_cli - INFO - Fetching funding rates for EdgeX contract: 10000072
2025-10-04 08:32:32,693 - urllib3.connectionpool - DEBUG - https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=107607&api_key_index=25 HTTP/1.1" 200 26
2025-10-04 08:32:32,758 - urllib3.connectionpool - DEBUG - https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=107607&api_key_index=25 HTTP/1.1" 200 26
2025-10-04 08:32:32,799 - urllib3.connectionpool - DEBUG - https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=107607&api_key_index=25 HTTP/1.1" 200 26
2025-10-04 08:32:32,831 - urllib3.connectionpool - DEBUG - https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=107607&api_key_index=25 HTTP/1.1" 200 26
2025-10-04 08:32:32,910 - urllib3.connectionpool - DEBUG - https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=107607&api_key_index=25 HTTP/1.1" 200 26
2025-10-04 08:32:32,953 - urllib3.connectionpool - DEBUG - https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=107607&api_key_index=25 HTTP/1.1" 200 26
2025-10-04 08:32:33,094 - hedge_cli - DEBUG - EdgeX BTC - max: 100.0, default: 10.0
2025-10-04 08:32:33,842 - hedge_cli - INFO - Fetching funding rates for Lighter market: 24
2025-10-04 08:32:34,116 - hedge_cli - INFO - Fetching Lighter prices for HYPE (market_id=24) via WebSocket...
2025-10-04 08:32:34,137 - hedge_cli - DEBUG - Raw Lighter funding rate: 0.0028
2025-10-04 08:32:34,138 - hedge_cli - DEBUG - Raw timestamp from Lighter: 1759309200
2025-10-04 08:32:34,138 - hedge_cli - DEBUG - Raw timestamp from Lighter: 1759312800
2025-10-04 08:32:34,138 - hedge_cli - DEBUG - Raw timestamp from Lighter: 1759316400
2025-10-04 08:32:34,298 - hedge_cli - INFO - Fetching Lighter prices for HYPE (market_id=24) via WebSocket...
2025-10-04 08:32:34,348 - hedge_cli - DEBUG - EdgeX quote response: {'code': 'SUCCESS', 'data': [{'contractId': '10000072', 'contractName': 'HYPEUSD', 'priceChange': '-0.327', 'priceChangePercent': '-0.006690', 'trades': '32791', 'size': '1637100.38', 'value': '81065759.97455', 'high': '50.871', 'low': '48.490', 'open': '48.873', 'close': '48.546', 'highTime': '1759513215096', 'lowTime': '1759565916707', 'startTime': '1759480200000', 'endTime': '1759566600000', 'lastPrice': '48.546', 'indexPrice': '48.492', 'oraclePrice': '48.5517862252891063690185546875', 'openInterest': '80019.72', 'fundingRate': '0.00064660', 'fundingTime': '1759564800000', 'nextFundingTime': '1759579200000'}], 'msg': None, 'errorParam': None, 'requestTime': '1759566751918', 'responseTime': '1759566751920', 'traceId': '2dced24b67f233f2eb89ed2e8bc4fb65'}
2025-10-04 08:32:34,348 - hedge_cli - INFO - EdgeX: bestBid/bestAsk not found, using synthetic spread around lastPrice 48.546: bid=48.521727, ask=48.570273
2025-10-04 08:32:34,404 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-04 08:32:34,564 - hedge_cli - DEBUG - Lighter BTC - max: 20.0 (default), default: 3.0
2025-10-04 08:32:34,565 - hedge_cli - INFO - Checking leverage for ETH...
2025-10-04 08:32:34,633 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-04 08:32:34,980 - websockets.client - DEBUG - > GET /stream HTTP/1.1
2025-10-04 08:32:34,981 - websockets.client - DEBUG - > Host: mainnet.zklighter.elliot.ai
2025-10-04 08:32:34,981 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-04 08:32:34,981 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-04 08:32:34,981 - websockets.client - DEBUG - > Sec-WebSocket-Key: SpbaZXg8WOLcKPFTggvizw==
2025-10-04 08:32:34,981 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-04 08:32:34,981 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-04 08:32:34,982 - websockets.client - DEBUG - > User-Agent: Python/3.10 websockets/15.0.1
2025-10-04 08:32:35,225 - websockets.client - DEBUG - > GET /stream HTTP/1.1
2025-10-04 08:32:35,226 - websockets.client - DEBUG - > Host: mainnet.zklighter.elliot.ai
2025-10-04 08:32:35,226 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-04 08:32:35,226 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-04 08:32:35,227 - websockets.client - DEBUG - > Sec-WebSocket-Key: s+bIHFS3akpfdHuAebs97Q==
2025-10-04 08:32:35,227 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-04 08:32:35,227 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-04 08:32:35,227 - websockets.client - DEBUG - > User-Agent: Python/3.10 websockets/15.0.1
2025-10-04 08:32:35,268 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-04 08:32:35,268 - websockets.client - DEBUG - < Date: Sat, 04 Oct 2025 08:32:35 GMT
2025-10-04 08:32:35,268 - websockets.client - DEBUG - < Connection: upgrade
2025-10-04 08:32:35,269 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-04 08:32:35,269 - websockets.client - DEBUG - < Sec-WebSocket-Accept: 9WrYWUjt1qVOWOok9wVY1O5fqUE=
2025-10-04 08:32:35,269 - websockets.client - DEBUG - < Access-Control-Allow-Methods: GET, HEAD, POST, PATCH, PUT, DELETE
2025-10-04 08:32:35,269 - websockets.client - DEBUG - < Access-Control-Allow-Headers: Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range
2025-10-04 08:32:35,270 - websockets.client - DEBUG - < Access-Control-Expose-Headers: Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers
2025-10-04 08:32:35,270 - websockets.client - DEBUG - < Access-Control-Allow-Credentials: true
2025-10-04 08:32:35,270 - websockets.client - DEBUG - < Access-Control-Max-Age: 86400
2025-10-04 08:32:35,270 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:35,270 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:35,271 - websockets.client - DEBUG - < Access-Control-Allow-Origin: *
2025-10-04 08:32:35,271 - websockets.client - DEBUG - = connection is OPEN
2025-10-04 08:32:35,271 - websockets.client - DEBUG - < TEXT '{"session_id":"16030fed-dd62-4e36-b38f-62e45fc9208d","type":"connected"}' [72 bytes]
2025-10-04 08:32:35,272 - websockets.client - DEBUG - > TEXT '{"type": "subscribe", "channel": "order_book/24"}' [49 bytes]
2025-10-04 08:32:35,469 - hedge_cli - INFO - Fetching Lighter prices for HYPE (market_id=24) via WebSocket...
2025-10-04 08:32:35,494 - root - DEBUG - Update Leverage Tx Info: {"AccountIndex":107607,"ApiKeyIndex":25,"MarketIndex":24,"InitialMarginFraction":2000,"MarginMode":0,"ExpiredAt":1759567354493,"Nonce":83432,"Sig":"/cbcd859cISm2vbWHi7QtN2eFfOlJn210ih9X5sVugYZE1cYFS53GfXSYz0mO+W2bmudqUqU7sbvd1N8C3WFq28XC+kREj3smicUOlJqvgM="}
2025-10-04 08:32:35,526 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-04 08:32:35,527 - websockets.client - DEBUG - < Date: Sat, 04 Oct 2025 08:32:35 GMT
2025-10-04 08:32:35,527 - websockets.client - DEBUG - < Connection: upgrade
2025-10-04 08:32:35,527 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-04 08:32:35,527 - websockets.client - DEBUG - < Sec-WebSocket-Accept: o05RsBCHEI2OsrGV/0phKFWztH0=
2025-10-04 08:32:35,527 - websockets.client - DEBUG - < Access-Control-Max-Age: 86400
2025-10-04 08:32:35,528 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:35,528 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:35,528 - websockets.client - DEBUG - < Access-Control-Allow-Origin: *
2025-10-04 08:32:35,528 - websockets.client - DEBUG - < Access-Control-Allow-Methods: GET, HEAD, POST, PATCH, PUT, DELETE
2025-10-04 08:32:35,528 - websockets.client - DEBUG - < Access-Control-Allow-Headers: Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range
2025-10-04 08:32:35,528 - hedge_cli - INFO - Fetching Lighter prices for HYPE (market_id=24) via WebSocket...
2025-10-04 08:32:35,528 - websockets.client - DEBUG - < Access-Control-Expose-Headers: Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers
2025-10-04 08:32:35,528 - websockets.client - DEBUG - < Access-Control-Allow-Credentials: true
2025-10-04 08:32:35,529 - websockets.client - DEBUG - = connection is OPEN
2025-10-04 08:32:35,529 - websockets.client - DEBUG - < TEXT '{"session_id":"42cade75-3152-4fa1-b5f4-3616a5d06f92","type":"connected"}' [72 bytes]
2025-10-04 08:32:35,530 - websockets.client - DEBUG - > TEXT '{"type": "subscribe", "channel": "order_book/24"}' [49 bytes]
2025-10-04 08:32:35,547 - hedge_cli - INFO - Fetching Lighter prices for HYPE (market_id=24) via WebSocket...
2025-10-04 08:32:35,765 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-04 08:32:35,818 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-04 08:32:35,832 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-04 08:32:36,144 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294574,"or...subscribed/order_book"}' [73260 bytes]
2025-10-04 08:32:36,144 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294575,"or...e":"update/order_book"}' [298 bytes]
2025-10-04 08:32:36,145 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294576,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,147 - hedge_cli - DEBUG - EdgeX ETH - max: 100.0, default: 10.0
2025-10-04 08:32:36,147 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294577,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,148 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294578,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,149 - hedge_cli - INFO - Lighter callback triggered: update #1, market_id=24, target=24
2025-10-04 08:32:36,149 - hedge_cli - INFO - Lighter HYPE: Received 1367 bids, 723 asks
2025-10-04 08:32:36,149 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5733
2025-10-04 08:32:36,149 - hedge_cli - INFO - Lighter callback triggered: update #2, market_id=24, target=24
2025-10-04 08:32:36,149 - hedge_cli - INFO - Lighter HYPE: Received 1367 bids, 722 asks
2025-10-04 08:32:36,149 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5733
2025-10-04 08:32:36,150 - hedge_cli - INFO - Lighter callback triggered: update #3, market_id=24, target=24
2025-10-04 08:32:36,150 - hedge_cli - INFO - Lighter HYPE: Received 1367 bids, 723 asks
2025-10-04 08:32:36,150 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5733
2025-10-04 08:32:36,150 - hedge_cli - INFO - Lighter callback triggered: update #4, market_id=24, target=24
2025-10-04 08:32:36,151 - hedge_cli - INFO - Lighter HYPE: Received 1367 bids, 723 asks
2025-10-04 08:32:36,151 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5733
2025-10-04 08:32:36,151 - hedge_cli - INFO - Lighter callback triggered: update #5, market_id=24, target=24
2025-10-04 08:32:36,151 - hedge_cli - INFO - Lighter HYPE: Received 1366 bids, 723 asks
2025-10-04 08:32:36,152 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5733
2025-10-04 08:32:36,152 - hedge_cli - INFO - Lighter: Received 5 updates for HYPE
2025-10-04 08:32:36,257 - hedge_cli - DEBUG - EdgeX quote response: {'code': 'SUCCESS', 'data': [{'contractId': '10000072', 'contractName': 'HYPEUSD', 'priceChange': '-0.327', 'priceChangePercent': '-0.006690', 'trades': '32791', 'size': '1637100.38', 'value': '81065759.97455', 'high': '50.871', 'low': '48.490', 'open': '48.873', 'close': '48.546', 'highTime': '1759513215096', 'lowTime': '1759565916707', 'startTime': '1759480200000', 'endTime': '1759566600000', 'lastPrice': '48.546', 'indexPrice': '48.492', 'oraclePrice': '48.5517862252891063690185546875', 'openInterest': '80019.72', 'fundingRate': '0.00064660', 'fundingTime': '1759564800000', 'nextFundingTime': '1759579200000'}], 'msg': None, 'errorParam': None, 'requestTime': '1759566751918', 'responseTime': '1759566751920', 'traceId': '2dced24b67f233f2eb89ed2e8bc4fb65'}
2025-10-04 08:32:36,257 - hedge_cli - INFO - EdgeX: bestBid/bestAsk not found, using synthetic spread around lastPrice 48.546: bid=48.521727, ask=48.570273
2025-10-04 08:32:36,353 - websockets.client - DEBUG - > GET /stream HTTP/1.1
2025-10-04 08:32:36,353 - websockets.client - DEBUG - > Host: mainnet.zklighter.elliot.ai
2025-10-04 08:32:36,354 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-04 08:32:36,354 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-04 08:32:36,354 - websockets.client - DEBUG - > Sec-WebSocket-Key: zg8mI4XjN6C8PC43b7z6/Q==
2025-10-04 08:32:36,354 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-04 08:32:36,354 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-04 08:32:36,355 - websockets.client - DEBUG - > User-Agent: Python/3.10 websockets/15.0.1
2025-10-04 08:32:36,401 - websockets.client - DEBUG - > GET /stream HTTP/1.1
2025-10-04 08:32:36,401 - websockets.client - DEBUG - > GET /stream HTTP/1.1
2025-10-04 08:32:36,401 - websockets.client - DEBUG - > Host: mainnet.zklighter.elliot.ai
2025-10-04 08:32:36,401 - websockets.client - DEBUG - > Host: mainnet.zklighter.elliot.ai
2025-10-04 08:32:36,401 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-04 08:32:36,401 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-04 08:32:36,401 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-04 08:32:36,401 - websockets.client - DEBUG - > Sec-WebSocket-Key: gYifbxLiZLccf1EtvnUhyw==
2025-10-04 08:32:36,402 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-04 08:32:36,402 - websockets.client - DEBUG - > Sec-WebSocket-Key: V7oQZsclC7e0XyoLBF4lJg==
2025-10-04 08:32:36,402 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-04 08:32:36,402 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-04 08:32:36,402 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-04 08:32:36,402 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-04 08:32:36,402 - websockets.client - DEBUG - > User-Agent: Python/3.10 websockets/15.0.1
2025-10-04 08:32:36,402 - websockets.client - DEBUG - > User-Agent: Python/3.10 websockets/15.0.1
2025-10-04 08:32:36,418 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294463,"or...subscribed/order_book"}' [73191 bytes]
2025-10-04 08:32:36,418 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294464,"or...e":"update/order_book"}' [194 bytes]
2025-10-04 08:32:36,419 - hedge_cli - INFO - Lighter callback triggered: update #1, market_id=24, target=24
2025-10-04 08:32:36,419 - hedge_cli - INFO - Lighter HYPE: Received 1367 bids, 721 asks
2025-10-04 08:32:36,419 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5728
2025-10-04 08:32:36,420 - hedge_cli - INFO - Lighter callback triggered: update #2, market_id=24, target=24
2025-10-04 08:32:36,420 - hedge_cli - INFO - Lighter HYPE: Received 1367 bids, 721 asks
2025-10-04 08:32:36,420 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5728
2025-10-04 08:32:36,420 - hedge_cli - INFO - Lighter: Received 2 updates for HYPE
2025-10-04 08:32:36,430 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294579,"or...e":"update/order_book"}' [225 bytes]
2025-10-04 08:32:36,430 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294580,"or...e":"update/order_book"}' [261 bytes]
2025-10-04 08:32:36,431 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294581,"or...e":"update/order_book"}' [225 bytes]
2025-10-04 08:32:36,431 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294582,"or...e":"update/order_book"}' [259 bytes]
2025-10-04 08:32:36,431 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294583,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,431 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294584,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,431 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294585,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,431 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294586,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:36,432 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294587,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,432 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294588,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:36,432 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294589,"or...e":"update/order_book"}' [367 bytes]
2025-10-04 08:32:36,432 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294590,"or...e":"update/order_book"}' [580 bytes]
2025-10-04 08:32:36,432 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294591,"or...e":"update/order_book"}' [297 bytes]
2025-10-04 08:32:36,432 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294592,"or...e":"update/order_book"}' [332 bytes]
2025-10-04 08:32:36,433 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294593,"or...e":"update/order_book"}' [194 bytes]
2025-10-04 08:32:36,433 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294594,"or...e":"update/order_book"}' [194 bytes]
2025-10-04 08:32:36,433 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294595,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,433 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294596,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:36,433 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294597,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:36,434 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294598,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,434 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294599,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,434 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294600,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,434 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294601,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,434 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294602,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,434 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294603,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,435 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294604,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:36,435 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294605,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,658 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-04 08:32:36,659 - root - DEBUG - Update Leverage Tx Response: code=200 message='{"ratelimit": "didn\'t use volume quota"}' tx_hash='67322f20db153a1813680b99c37e2adb2c4826e11cb1cbb2f365713e1ba791701215bc40a358d814' predicted_execution_time_ms=1759566756801 additional_properties={}
2025-10-04 08:32:36,660 - websockets.client - DEBUG - < Date: Sat, 04 Oct 2025 08:32:36 GMT
2025-10-04 08:32:36,660 - websockets.client - DEBUG - < Connection: upgrade
2025-10-04 08:32:36,660 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-04 08:32:36,661 - websockets.client - DEBUG - < Sec-WebSocket-Accept: 46V64dESHgX3nQbTQEjzvpYnAjo=
2025-10-04 08:32:36,661 - websockets.client - DEBUG - < Access-Control-Max-Age: 86400
2025-10-04 08:32:36,661 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:36,661 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:36,661 - websockets.client - DEBUG - < Access-Control-Allow-Origin: *
2025-10-04 08:32:36,661 - websockets.client - DEBUG - < Access-Control-Allow-Methods: GET, HEAD, POST, PATCH, PUT, DELETE
2025-10-04 08:32:36,662 - websockets.client - DEBUG - < Access-Control-Allow-Headers: Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range
2025-10-04 08:32:36,662 - websockets.client - DEBUG - < Access-Control-Expose-Headers: Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers
2025-10-04 08:32:36,662 - websockets.client - DEBUG - < Access-Control-Allow-Credentials: true
2025-10-04 08:32:36,662 - websockets.client - DEBUG - = connection is OPEN
2025-10-04 08:32:36,663 - websockets.client - DEBUG - < TEXT '{"session_id":"060abadf-9a35-4939-90d8-781d025fb633","type":"connected"}' [72 bytes]
2025-10-04 08:32:36,663 - websockets.client - DEBUG - > TEXT '{"type": "subscribe", "channel": "order_book/24"}' [49 bytes]
2025-10-04 08:32:36,699 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294465,"or...e":"update/order_book"}' [194 bytes]
2025-10-04 08:32:36,700 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294466,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,700 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294467,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:36,700 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294468,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:36,701 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294469,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,701 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294470,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,701 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294471,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,701 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294472,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,702 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294473,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,702 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294474,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,702 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294475,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:36,702 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294476,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,716 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-04 08:32:36,717 - websockets.client - DEBUG - < Date: Sat, 04 Oct 2025 08:32:36 GMT
2025-10-04 08:32:36,717 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294606,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:36,717 - websockets.client - DEBUG - < Connection: upgrade
2025-10-04 08:32:36,717 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-04 08:32:36,717 - websockets.client - DEBUG - < Sec-WebSocket-Accept: habG1YxbxnwgT7+U9ARUt6CKBs0=
2025-10-04 08:32:36,717 - websockets.client - DEBUG - < Access-Control-Allow-Origin: *
2025-10-04 08:32:36,718 - websockets.client - DEBUG - < Access-Control-Allow-Methods: GET, HEAD, POST, PATCH, PUT, DELETE
2025-10-04 08:32:36,718 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-04 08:32:36,718 - websockets.client - DEBUG - < Access-Control-Allow-Headers: Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range
2025-10-04 08:32:36,718 - websockets.client - DEBUG - < Date: Sat, 04 Oct 2025 08:32:36 GMT
2025-10-04 08:32:36,718 - websockets.client - DEBUG - < Access-Control-Expose-Headers: Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers
2025-10-04 08:32:36,718 - websockets.client - DEBUG - < Connection: upgrade
2025-10-04 08:32:36,718 - websockets.client - DEBUG - < Access-Control-Allow-Credentials: true
2025-10-04 08:32:36,718 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-04 08:32:36,718 - websockets.client - DEBUG - < Access-Control-Max-Age: 86400
2025-10-04 08:32:36,718 - websockets.client - DEBUG - < Sec-WebSocket-Accept: ACDnp8hjjH0lk+BzAKu/5NKS+Jg=
2025-10-04 08:32:36,719 - websockets.client - DEBUG - < Access-Control-Allow-Methods: GET, HEAD, POST, PATCH, PUT, DELETE
2025-10-04 08:32:36,719 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:36,719 - websockets.client - DEBUG - < Access-Control-Allow-Headers: Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range
2025-10-04 08:32:36,719 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:36,719 - websockets.client - DEBUG - < Access-Control-Expose-Headers: Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers
2025-10-04 08:32:36,719 - websockets.client - DEBUG - = connection is OPEN
2025-10-04 08:32:36,719 - websockets.client - DEBUG - < Access-Control-Allow-Credentials: true
2025-10-04 08:32:36,719 - websockets.client - DEBUG - < Access-Control-Max-Age: 86400
2025-10-04 08:32:36,719 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:36,719 - websockets.client - DEBUG - < TEXT '{"session_id":"cad31797-f13f-4f63-84c1-70e699e106f2","type":"connected"}' [72 bytes]
2025-10-04 08:32:36,720 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:36,720 - websockets.client - DEBUG - < Access-Control-Allow-Origin: *
2025-10-04 08:32:36,720 - websockets.client - DEBUG - > TEXT '{"type": "subscribe", "channel": "order_book/24"}' [49 bytes]
2025-10-04 08:32:36,720 - websockets.client - DEBUG - = connection is OPEN
2025-10-04 08:32:36,720 - websockets.client - DEBUG - < TEXT '{"session_id":"4e782d16-4a28-4eea-bfaf-2cb5d3660276","type":"connected"}' [72 bytes]
2025-10-04 08:32:36,721 - websockets.client - DEBUG - > TEXT '{"type": "subscribe", "channel": "order_book/24"}' [49 bytes]
2025-10-04 08:32:36,726 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294477,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:36,746 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294607,"or...e":"update/order_book"}' [296 bytes]
2025-10-04 08:32:36,750 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294608,"or...e":"update/order_book"}' [259 bytes]
2025-10-04 08:32:36,756 - hedge_cli - DEBUG - Lighter position fields: ['_AccountPosition__properties', '__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_get_value', '_iter', '_setattr_handler', 'additional_properties', 'allocated_margin', 'avg_entry_price', 'construct', 'copy', 'dict', 'from_dict', 'from_json', 'from_orm', 'initial_margin_fraction', 'json', 'liquidation_price', 'margin_mode', 'market_id', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'open_order_count', 'parse_file', 'parse_obj', 'parse_raw', 'pending_order_count', 'position', 'position_tied_order_count', 'position_value', 'realized_pnl', 'schema', 'schema_json', 'sign', 'symbol', 'to_dict', 'to_json', 'to_str', 'total_funding_paid_out', 'unrealized_pnl', 'update_forward_refs', 'validate']
2025-10-04 08:32:36,756 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294478,"or...e":"update/order_book"}' [296 bytes]
2025-10-04 08:32:36,758 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294609,"or...e":"update/order_book"}' [194 bytes]
2025-10-04 08:32:36,761 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294479,"or...e":"update/order_book"}' [259 bytes]
2025-10-04 08:32:36,766 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294480,"or...e":"update/order_book"}' [194 bytes]
2025-10-04 08:32:36,783 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294610,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:36,794 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294481,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:36,796 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294611,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,806 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294482,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,811 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294483,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,831 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294484,"or...e":"update/order_book"}' [292 bytes]
2025-10-04 08:32:36,885 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294485,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:36,893 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294486,"or...e":"update/order_book"}' [365 bytes]
2025-10-04 08:32:36,898 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294487,"or...e":"update/order_book"}' [328 bytes]
2025-10-04 08:32:36,903 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294488,"or...e":"update/order_book"}' [224 bytes]
2025-10-04 08:32:36,911 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294489,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,927 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294490,"or...e":"update/order_book"}' [610 bytes]
2025-10-04 08:32:36,940 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294491,"or...e":"update/order_book"}' [365 bytes]
2025-10-04 08:32:36,951 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294492,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,966 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294493,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,976 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294494,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:36,984 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294495,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:36,988 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294496,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:37,016 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294497,"or...e":"update/order_book"}' [294 bytes]
2025-10-04 08:32:37,021 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-04 08:32:37,245 - hedge_cli - DEBUG - Lighter funding payment: -0.008575 USD at 1759564800
2025-10-04 08:32:37,246 - hedge_cli - DEBUG - Lighter funding payment: -0.02004 USD at 1759561200
2025-10-04 08:32:37,246 - hedge_cli - DEBUG - Lighter funding payment: -0.011032 USD at 1759557600
2025-10-04 08:32:37,246 - hedge_cli - DEBUG - Lighter funding payment: -0.009546 USD at 1759554000
2025-10-04 08:32:37,246 - hedge_cli - DEBUG - Lighter funding payment: -0.004311 USD at 1759550400
2025-10-04 08:32:37,246 - hedge_cli - DEBUG - Lighter funding payment: -0.024667 USD at 1759546800
2025-10-04 08:32:37,246 - hedge_cli - DEBUG - Lighter funding payment: -0.023602 USD at 1759543200
2025-10-04 08:32:37,246 - hedge_cli - DEBUG - Lighter funding payment: -0.021887 USD at 1759539600
2025-10-04 08:32:37,247 - hedge_cli - DEBUG - Lighter funding payment: -0.015344 USD at 1759536000
2025-10-04 08:32:37,247 - hedge_cli - DEBUG - Lighter funding payment: -0.013977 USD at 1759532400
2025-10-04 08:32:37,247 - hedge_cli - DEBUG - Lighter funding payment: -0.016692 USD at 1759528800
2025-10-04 08:32:37,247 - hedge_cli - DEBUG - Lighter funding payment: -0.029528 USD at 1759525200
2025-10-04 08:32:37,247 - hedge_cli - DEBUG - Lighter funding payment: -0.026387 USD at 1759521600
2025-10-04 08:32:37,247 - hedge_cli - DEBUG - Lighter funding payment: -0.021513 USD at 1759518000
2025-10-04 08:32:37,248 - hedge_cli - DEBUG - Lighter funding payment: -0.024542 USD at 1759514400
2025-10-04 08:32:37,248 - hedge_cli - DEBUG - Lighter funding payment: -0.020845 USD at 1759510800
2025-10-04 08:32:37,248 - hedge_cli - DEBUG - Lighter funding payment: -0.007518 USD at 1759507200
2025-10-04 08:32:37,414 - hedge_cli - DEBUG - EdgeX transaction response code: SUCCESS
2025-10-04 08:32:37,415 - hedge_cli - INFO - EdgeX: Found 8 total transactions for contract 10000072
2025-10-04 08:32:37,415 - hedge_cli - INFO - EdgeX transaction types: {'SETTLE_FUNDING_FEE': 5, 'SELL_POSITION': 2, 'BUY_POSITION': 1}
2025-10-04 08:32:37,415 - hedge_cli - INFO - EdgeX position opened at 1759503862451
2025-10-04 08:32:37,415 - hedge_cli - DEBUG - EdgeX funding payment: 0.211328 USD at 1759564800203
2025-10-04 08:32:37,416 - hedge_cli - DEBUG - EdgeX funding payment: 0.246071 USD at 1759550400203
2025-10-04 08:32:37,416 - hedge_cli - DEBUG - EdgeX funding payment: 0.245495 USD at 1759536000203
2025-10-04 08:32:37,416 - hedge_cli - DEBUG - EdgeX funding payment: 0.296901 USD at 1759521600203
2025-10-04 08:32:37,416 - hedge_cli - DEBUG - EdgeX funding payment: 0.317409 USD at 1759507200203
2025-10-04 08:32:37,567 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294534,"or...subscribed/order_book"}' [72862 bytes]
2025-10-04 08:32:37,568 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294535,"or...e":"update/order_book"}' [294 bytes]
2025-10-04 08:32:37,568 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294536,"or...e":"update/order_book"}' [297 bytes]
2025-10-04 08:32:37,568 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294537,"or...e":"update/order_book"}' [367 bytes]
2025-10-04 08:32:37,569 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294538,"or...e":"update/order_book"}' [227 bytes]
2025-10-04 08:32:37,570 - hedge_cli - INFO - Lighter callback triggered: update #1, market_id=24, target=24
2025-10-04 08:32:37,570 - hedge_cli - INFO - Lighter HYPE: Received 1365 bids, 714 asks
2025-10-04 08:32:37,570 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,570 - hedge_cli - INFO - Lighter callback triggered: update #2, market_id=24, target=24
2025-10-04 08:32:37,571 - hedge_cli - INFO - Lighter HYPE: Received 1365 bids, 714 asks
2025-10-04 08:32:37,571 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,572 - hedge_cli - INFO - Lighter callback triggered: update #3, market_id=24, target=24
2025-10-04 08:32:37,572 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 714 asks
2025-10-04 08:32:37,572 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,572 - hedge_cli - INFO - Lighter callback triggered: update #4, market_id=24, target=24
2025-10-04 08:32:37,573 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 714 asks
2025-10-04 08:32:37,573 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,573 - hedge_cli - INFO - Lighter callback triggered: update #5, market_id=24, target=24
2025-10-04 08:32:37,574 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 714 asks
2025-10-04 08:32:37,574 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,574 - hedge_cli - INFO - Lighter: Received 5 updates for HYPE
2025-10-04 08:32:37,597 - websockets.client - DEBUG - > GET /stream HTTP/1.1
2025-10-04 08:32:37,598 - websockets.client - DEBUG - > Host: mainnet.zklighter.elliot.ai
2025-10-04 08:32:37,598 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-04 08:32:37,598 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-04 08:32:37,598 - websockets.client - DEBUG - > Sec-WebSocket-Key: 9W1t5klOYS6aDCyHOOIdSA==
2025-10-04 08:32:37,599 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-04 08:32:37,599 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-04 08:32:37,599 - websockets.client - DEBUG - > User-Agent: Python/3.10 websockets/15.0.1
2025-10-04 08:32:37,609 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294742,"or...subscribed/order_book"}' [72826 bytes]
2025-10-04 08:32:37,610 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294743,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,611 - hedge_cli - INFO - Lighter callback triggered: update #1, market_id=24, target=24
2025-10-04 08:32:37,611 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 714 asks
2025-10-04 08:32:37,611 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,612 - hedge_cli - INFO - Lighter callback triggered: update #2, market_id=24, target=24
2025-10-04 08:32:37,612 - hedge_cli - INFO - Lighter HYPE: Received 1365 bids, 714 asks
2025-10-04 08:32:37,613 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,613 - hedge_cli - INFO - Lighter: Received 2 updates for HYPE
2025-10-04 08:32:37,620 - hedge_cli - DEBUG - Lighter ETH - max: 20.0 (default), default: 3.0
2025-10-04 08:32:37,621 - hedge_cli - INFO - Checking leverage for SOL...
2025-10-04 08:32:37,676 - hedge_cli - DEBUG - EdgeX quote response: {'code': 'SUCCESS', 'data': [{'contractId': '10000072', 'contractName': 'HYPEUSD', 'priceChange': '-0.327', 'priceChangePercent': '-0.006690', 'trades': '32791', 'size': '1637100.38', 'value': '81065759.97455', 'high': '50.871', 'low': '48.490', 'open': '48.873', 'close': '48.546', 'highTime': '1759513215096', 'lowTime': '1759565916707', 'startTime': '1759480200000', 'endTime': '1759566600000', 'lastPrice': '48.546', 'indexPrice': '48.492', 'oraclePrice': '48.5517862252891063690185546875', 'openInterest': '80019.72', 'fundingRate': '0.00064660', 'fundingTime': '1759564800000', 'nextFundingTime': '1759579200000'}], 'msg': None, 'errorParam': None, 'requestTime': '1759566751918', 'responseTime': '1759566751920', 'traceId': '2dced24b67f233f2eb89ed2e8bc4fb65'}
2025-10-04 08:32:37,676 - hedge_cli - INFO - EdgeX: bestBid/bestAsk not found, using synthetic spread around lastPrice 48.546: bid=48.521727, ask=48.570273
2025-10-04 08:32:37,679 - root - DEBUG - Update Leverage Tx Info: {"AccountIndex":107607,"ApiKeyIndex":25,"MarketIndex":24,"InitialMarginFraction":2000,"MarginMode":0,"ExpiredAt":1759567356677,"Nonce":83432,"Sig":"6dUDPdQ/tMhP7L+ZqyI22gtHhLwbSa1jhemCQNGD5NmVuwzDqhm5Yqr/v8BNTKyCtRF4FQfGGXbxL2E5xtJ77SPs+vqjuk6cjQSSnGkum1k="}
2025-10-04 08:32:37,734 - hedge_cli - DEBUG - EdgeX quote response: {'code': 'SUCCESS', 'data': [{'contractId': '10000072', 'contractName': 'HYPEUSD', 'priceChange': '-0.327', 'priceChangePercent': '-0.006690', 'trades': '32791', 'size': '1637100.38', 'value': '81065759.97455', 'high': '50.871', 'low': '48.490', 'open': '48.873', 'close': '48.546', 'highTime': '1759513215096', 'lowTime': '1759565916707', 'startTime': '1759480200000', 'endTime': '1759566600000', 'lastPrice': '48.546', 'indexPrice': '48.492', 'oraclePrice': '48.5517862252891063690185546875', 'openInterest': '80019.72', 'fundingRate': '0.00064660', 'fundingTime': '1759564800000', 'nextFundingTime': '1759579200000'}], 'msg': None, 'errorParam': None, 'requestTime': '1759566751918', 'responseTime': '1759566751920', 'traceId': '2dced24b67f233f2eb89ed2e8bc4fb65'}
2025-10-04 08:32:37,734 - hedge_cli - INFO - EdgeX: bestBid/bestAsk not found, using synthetic spread around lastPrice 48.546: bid=48.521727, ask=48.570273
2025-10-04 08:32:37,737 - root - DEBUG - Update Leverage Tx Info: {"AccountIndex":107607,"ApiKeyIndex":25,"MarketIndex":24,"InitialMarginFraction":2000,"MarginMode":0,"ExpiredAt":1759567356735,"Nonce":83432,"Sig":"54C9TXJQGAeO5mKvmsXtuc0OwNs+xE8RYHo96d6iBF6Q2W9JN+rpdMEm/klfBB3xP9cNvt96DzI7jpIriNZXn1lFiNEN9UVlGzvYWkunaQA="}
2025-10-04 08:32:37,841 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294539,"or...e":"update/order_book"}' [404 bytes]
2025-10-04 08:32:37,841 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294540,"or...e":"update/order_book"}' [330 bytes]
2025-10-04 08:32:37,842 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294541,"or...e":"update/order_book"}' [227 bytes]
2025-10-04 08:32:37,842 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294542,"or...e":"update/order_book"}' [227 bytes]
2025-10-04 08:32:37,842 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294543,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,842 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294544,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,843 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294545,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,843 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294546,"or...e":"update/order_book"}' [294 bytes]
2025-10-04 08:32:37,843 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294547,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,843 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294548,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,854 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294549,"or...e":"update/order_book"}' [295 bytes]
2025-10-04 08:32:37,855 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294550,"or...e":"update/order_book"}' [334 bytes]
2025-10-04 08:32:37,855 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294551,"or...e":"update/order_book"}' [367 bytes]
2025-10-04 08:32:37,855 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294552,"or...e":"update/order_book"}' [227 bytes]
2025-10-04 08:32:37,855 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294553,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,855 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294554,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,856 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294555,"or...e":"update/order_book"}' [225 bytes]
2025-10-04 08:32:37,856 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294556,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,856 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294557,"or...e":"update/order_book"}' [632 bytes]
2025-10-04 08:32:37,856 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294558,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,857 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294559,"or...e":"update/order_book"}' [633 bytes]
2025-10-04 08:32:37,857 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294560,"or...e":"update/order_book"}' [428 bytes]
2025-10-04 08:32:37,857 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294561,"or...e":"update/order_book"}' [430 bytes]
2025-10-04 08:32:37,857 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294562,"or...e":"update/order_book"}' [261 bytes]
2025-10-04 08:32:37,857 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294563,"or...e":"update/order_book"}' [369 bytes]
2025-10-04 08:32:37,858 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294564,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,858 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294565,"or...e":"update/order_book"}' [227 bytes]
2025-10-04 08:32:37,858 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294566,"or...e":"update/order_book"}' [374 bytes]
2025-10-04 08:32:37,858 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294567,"or...e":"update/order_book"}' [510 bytes]
2025-10-04 08:32:37,859 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294568,"or...e":"update/order_book"}' [367 bytes]
2025-10-04 08:32:37,859 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294569,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,859 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294570,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:37,859 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294571,"or...e":"update/order_book"}' [370 bytes]
2025-10-04 08:32:37,880 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-04 08:32:37,880 - websockets.client - DEBUG - < Date: Sat, 04 Oct 2025 08:32:37 GMT
2025-10-04 08:32:37,881 - websockets.client - DEBUG - < Connection: upgrade
2025-10-04 08:32:37,881 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-04 08:32:37,881 - websockets.client - DEBUG - < Sec-WebSocket-Accept: igogehISeEzDeKsx2puvax/VJis=
2025-10-04 08:32:37,881 - websockets.client - DEBUG - < Access-Control-Max-Age: 86400
2025-10-04 08:32:37,881 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:37,882 - websockets.client - DEBUG - < Vary: Origin
2025-10-04 08:32:37,881 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294742,"or...subscribed/order_book"}' [72826 bytes]
2025-10-04 08:32:37,882 - websockets.client - DEBUG - < Access-Control-Allow-Origin: *
2025-10-04 08:32:37,882 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294742,"or...e":"update/order_book"}' [227 bytes]
2025-10-04 08:32:37,882 - websockets.client - DEBUG - < Access-Control-Allow-Methods: GET, HEAD, POST, PATCH, PUT, DELETE
2025-10-04 08:32:37,882 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294743,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,882 - websockets.client - DEBUG - < Access-Control-Allow-Headers: Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range
2025-10-04 08:32:37,882 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294744,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,883 - websockets.client - DEBUG - < Access-Control-Expose-Headers: Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers
2025-10-04 08:32:37,883 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294745,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,883 - websockets.client - DEBUG - < Access-Control-Allow-Credentials: true
2025-10-04 08:32:37,883 - websockets.client - DEBUG - = connection is OPEN
2025-10-04 08:32:37,884 - websockets.client - DEBUG - < TEXT '{"session_id":"e77660f8-6a4b-45aa-ab62-321b7707a53b","type":"connected"}' [72 bytes]
2025-10-04 08:32:37,884 - hedge_cli - INFO - Lighter callback triggered: update #1, market_id=24, target=24
2025-10-04 08:32:37,884 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 714 asks
2025-10-04 08:32:37,884 - websockets.client - DEBUG - > TEXT '{"type": "subscribe", "channel": "user_stats/107607"}' [53 bytes]
2025-10-04 08:32:37,884 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,885 - hedge_cli - INFO - Lighter callback triggered: update #2, market_id=24, target=24
2025-10-04 08:32:37,885 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 715 asks
2025-10-04 08:32:37,885 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,886 - hedge_cli - INFO - Lighter callback triggered: update #3, market_id=24, target=24
2025-10-04 08:32:37,886 - hedge_cli - INFO - Lighter HYPE: Received 1365 bids, 715 asks
2025-10-04 08:32:37,886 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,887 - hedge_cli - INFO - Lighter callback triggered: update #4, market_id=24, target=24
2025-10-04 08:32:37,887 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 715 asks
2025-10-04 08:32:37,888 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,888 - hedge_cli - INFO - Lighter callback triggered: update #5, market_id=24, target=24
2025-10-04 08:32:37,888 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 715 asks
2025-10-04 08:32:37,889 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,889 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294746,"or...e":"update/order_book"}' [294 bytes]
2025-10-04 08:32:37,889 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294747,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,889 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294748,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,890 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294749,"or...e":"update/order_book"}' [295 bytes]
2025-10-04 08:32:37,890 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294750,"or...e":"update/order_book"}' [334 bytes]
2025-10-04 08:32:37,890 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294751,"or...e":"update/order_book"}' [367 bytes]
2025-10-04 08:32:37,890 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294752,"or...e":"update/order_book"}' [227 bytes]
2025-10-04 08:32:37,890 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294753,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,891 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294754,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,891 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294755,"or...e":"update/order_book"}' [225 bytes]
2025-10-04 08:32:37,891 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294756,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,891 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294757,"or...e":"update/order_book"}' [632 bytes]
2025-10-04 08:32:37,892 - hedge_cli - INFO - Lighter callback triggered: update #6, market_id=24, target=24
2025-10-04 08:32:37,892 - hedge_cli - INFO - Lighter HYPE: Received 1363 bids, 715 asks
2025-10-04 08:32:37,892 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,893 - hedge_cli - INFO - Lighter callback triggered: update #7, market_id=24, target=24
2025-10-04 08:32:37,893 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 715 asks
2025-10-04 08:32:37,893 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.5725
2025-10-04 08:32:37,894 - hedge_cli - INFO - Lighter callback triggered: update #8, market_id=24, target=24
2025-10-04 08:32:37,894 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 714 asks
2025-10-04 08:32:37,894 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.587
2025-10-04 08:32:37,895 - hedge_cli - INFO - Lighter callback triggered: update #9, market_id=24, target=24
2025-10-04 08:32:37,895 - hedge_cli - INFO - Lighter HYPE: Received 1364 bids, 714 asks
2025-10-04 08:32:37,895 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.587
2025-10-04 08:32:37,895 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294744,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,896 - hedge_cli - INFO - Lighter callback triggered: update #10, market_id=24, target=24
2025-10-04 08:32:37,896 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294745,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,896 - hedge_cli - INFO - Lighter HYPE: Received 1366 bids, 714 asks
2025-10-04 08:32:37,896 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294746,"or...e":"update/order_book"}' [294 bytes]
2025-10-04 08:32:37,896 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.587
2025-10-04 08:32:37,896 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294747,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,896 - hedge_cli - INFO - Lighter callback triggered: update #11, market_id=24, target=24
2025-10-04 08:32:37,896 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294748,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,897 - hedge_cli - INFO - Lighter HYPE: Received 1366 bids, 714 asks
2025-10-04 08:32:37,897 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294749,"or...e":"update/order_book"}' [295 bytes]
2025-10-04 08:32:37,897 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294750,"or...e":"update/order_book"}' [334 bytes]
2025-10-04 08:32:37,897 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.587
2025-10-04 08:32:37,897 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294751,"or...e":"update/order_book"}' [367 bytes]
2025-10-04 08:32:37,897 - hedge_cli - INFO - Lighter callback triggered: update #12, market_id=24, target=24
2025-10-04 08:32:37,897 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294752,"or...e":"update/order_book"}' [227 bytes]
2025-10-04 08:32:37,897 - hedge_cli - INFO - Lighter HYPE: Received 1366 bids, 714 asks
2025-10-04 08:32:37,897 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294753,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,898 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.587
2025-10-04 08:32:37,898 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294754,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,898 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294755,"or...e":"update/order_book"}' [225 bytes]
2025-10-04 08:32:37,898 - hedge_cli - INFO - Lighter callback triggered: update #13, market_id=24, target=24
2025-10-04 08:32:37,898 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294756,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,898 - hedge_cli - INFO - Lighter HYPE: Received 1366 bids, 715 asks
2025-10-04 08:32:37,898 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294757,"or...e":"update/order_book"}' [632 bytes]
2025-10-04 08:32:37,898 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.587
2025-10-04 08:32:37,898 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294758,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,898 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294759,"or...e":"update/order_book"}' [633 bytes]
2025-10-04 08:32:37,899 - hedge_cli - INFO - Lighter callback triggered: update #14, market_id=24, target=24
2025-10-04 08:32:37,899 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294760,"or...e":"update/order_book"}' [428 bytes]
2025-10-04 08:32:37,899 - hedge_cli - INFO - Lighter HYPE: Received 1366 bids, 714 asks
2025-10-04 08:32:37,899 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294761,"or...e":"update/order_book"}' [430 bytes]
2025-10-04 08:32:37,899 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.587
2025-10-04 08:32:37,899 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294762,"or...e":"update/order_book"}' [261 bytes]
2025-10-04 08:32:37,899 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294763,"or...e":"update/order_book"}' [369 bytes]
2025-10-04 08:32:37,899 - hedge_cli - INFO - Lighter callback triggered: update #15, market_id=24, target=24
2025-10-04 08:32:37,899 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294764,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,900 - hedge_cli - INFO - Lighter HYPE: Received 1365 bids, 715 asks
2025-10-04 08:32:37,900 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294765,"or...e":"update/order_book"}' [227 bytes]
2025-10-04 08:32:37,900 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.587
2025-10-04 08:32:37,900 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294766,"or...e":"update/order_book"}' [374 bytes]
2025-10-04 08:32:37,900 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294767,"or...e":"update/order_book"}' [510 bytes]
2025-10-04 08:32:37,900 - hedge_cli - INFO - Lighter callback triggered: update #16, market_id=24, target=24
2025-10-04 08:32:37,900 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294768,"or...e":"update/order_book"}' [367 bytes]
2025-10-04 08:32:37,900 - hedge_cli - INFO - Lighter HYPE: Received 1365 bids, 716 asks
2025-10-04 08:32:37,900 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.587
2025-10-04 08:32:37,900 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294769,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,901 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294770,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:37,901 - hedge_cli - INFO - Lighter callback triggered: update #17, market_id=24, target=24
2025-10-04 08:32:37,901 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294771,"or...e":"update/order_book"}' [370 bytes]
2025-10-04 08:32:37,901 - hedge_cli - INFO - Lighter HYPE: Received 1358 bids, 709 asks
2025-10-04 08:32:37,901 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294772,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,901 - hedge_cli - INFO - Lighter HYPE: bid=48.5724, ask=48.587
2025-10-04 08:32:37,901 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294773,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,901 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294758,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,901 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294774,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,902 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294759,"or...e":"update/order_book"}' [633 bytes]
2025-10-04 08:32:37,902 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294775,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,902 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294760,"or...e":"update/order_book"}' [428 bytes]
2025-10-04 08:32:37,902 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294776,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,902 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294761,"or...e":"update/order_book"}' [430 bytes]
2025-10-04 08:32:37,902 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294762,"or...e":"update/order_book"}' [261 bytes]
2025-10-04 08:32:37,902 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294763,"or...e":"update/order_book"}' [369 bytes]
2025-10-04 08:32:37,903 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294764,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,903 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294765,"or...e":"update/order_book"}' [227 bytes]
2025-10-04 08:32:37,903 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294766,"or...e":"update/order_book"}' [374 bytes]
2025-10-04 08:32:37,903 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294767,"or...e":"update/order_book"}' [510 bytes]
2025-10-04 08:32:37,903 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294768,"or...e":"update/order_book"}' [367 bytes]
2025-10-04 08:32:37,904 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294769,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,904 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294770,"or...e":"update/order_book"}' [228 bytes]
2025-10-04 08:32:37,904 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294771,"or...e":"update/order_book"}' [370 bytes]
2025-10-04 08:32:37,904 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294772,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,904 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294773,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,905 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294774,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,905 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294775,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,905 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294776,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,905 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294777,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,905 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294778,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,906 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294779,"or...e":"update/order_book"}' [300 bytes]
2025-10-04 08:32:37,906 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294780,"or...e":"update/order_book"}' [333 bytes]
2025-10-04 08:32:37,906 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294781,"or...e":"update/order_book"}' [394 bytes]
2025-10-04 08:32:37,906 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294782,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,906 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294783,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,907 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294784,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,907 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294785,"or...e":"update/order_book"}' [191 bytes]
2025-10-04 08:32:37,907 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294786,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,907 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294787,"or...e":"update/order_book"}' [192 bytes]
2025-10-04 08:32:37,907 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294788,"or...e":"update/order_book"}' [194 bytes]
2025-10-04 08:32:37,908 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294789,"or...e":"update/order_book"}' [226 bytes]
2025-10-04 08:32:37,908 - websockets.client - DEBUG - < TEXT '{"channel":"order_book:24","offset":2294790,"or...e":"update/order_book"}' [194 bytes]
2025-10-04 08:32:37,908 - hedge_cli - INFO - Lighter: Received 17 updates for HYPE
2025-10-04 08:32:38,168 - websockets.client - DEBUG - < TEXT '{"channel":"user_stats:107607","stats":{"collat...subscribed/user_stats"}' [551 bytes]
2025-10-04 08:32:38,169 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-10-04 08:32:38,169 - websockets.client - DEBUG - = connection is CLOSING
2025-10-04 08:32:38,481 - websockets.client - DEBUG - < CLOSE 1000 (OK) [2 bytes]
2025-10-04 08:32:38,482 - websockets.client - DEBUG - < EOF
2025-10-04 08:32:38,482 - websockets.client - DEBUG - > EOF
2025-10-04 08:32:38,482 - websockets.client - DEBUG - = connection is CLOSED
2025-10-04 08:32:38,485 - hedge_cli - INFO - Lighter: Fetching position for account 107607, market 24
2025-10-04 08:32:38,858 - hedge_cli - DEBUG - Lighter account details response: code=200 message=None total=1 accounts=[DetailedAccount(code=0, message=None, account_type=0, index=107607, l1_address='0xcEd00358b11CCe2f7156c21373A17A4695164f81', cancel_all_time=0, total_order_count=0, total_isolated_order_count=0, pending_order_count=0, available_balance='45.279283', status=1, collateral='107.435428', account_index=107607, name='', description='', can_invite=False, referral_points_percentage='', positions=[AccountPosition(market_id=24, symbol='HYPE', initial_margin_fraction='20.00', open_order_count=0, pending_order_count=0, position_tied_order_count=0, sign=1, position='6.29', avg_entry_price='48.7455', position_value='305.566313', unrealized_pnl='-1.042882', realized_pnl='0.000000', liquidation_price='32.64448019274581', total_funding_paid_out=None, margin_mode=0, allocated_margin='0.000000', additional_properties={}), AccountPosition(market_id=48, symbol='PAXG', initial_margin_fraction='20.00', open_order_count=0, pending_order_count=0, position_tied_order_count=0, sign=1, position='0.0000', avg_entry_price='0.00', position_value='-0.000000', unrealized_pnl='0.000000', realized_pnl='0.000000', liquidation_price='0', total_funding_paid_out=None, margin_mode=0, allocated_margin='0.000000', additional_properties={}), AccountPosition(market_id=71, symbol='XPL', initial_margin_fraction='33.33', open_order_count=0, pending_order_count=0, position_tied_order_count=0, sign=1, position='0.0', avg_entry_price='0.00000', position_value='-0.000000', unrealized_pnl='0.000000', realized_pnl='0.000000', liquidation_price='0', total_funding_paid_out=None, margin_mode=0, allocated_margin='0.000000', additional_properties={})], total_asset_value='106.39254600000001', cross_asset_value='106.39254600000001', pool_info=None, shares=[PublicPoolShare(public_pool_index=281474976710654, shares_amount=1, entry_usdc='0.003254', additional_properties={})], additional_properties={})] additional_properties={}
2025-10-04 08:32:38,859 - hedge_cli - INFO - Lighter: Found position for market 24: size=6.29, sign=1, signed_size=6.29
2025-10-04 08:32:38,859 - hedge_cli - INFO - --- lighter_close_position called ---
2025-10-04 08:32:38,859 - hedge_cli - INFO - Inputs: market_id=24, price_tick=0.0001, amount_tick=0.01, side='sell', size_base=6.29, ref_price=48.5724, cross_ticks=100
2025-10-04 08:32:38,859 - hedge_cli - INFO - Calculated values: base_scaled=629, aggressive_price=48.5624, price_scaled=485623
2025-10-04 08:32:38,859 - hedge_cli - INFO - Calling signer.create_order with params: {
  "market_index": 24,
  "client_order_index": 745966,
  "base_amount": 629,
  "price": 485623,
  "is_ask": true,
  "order_type": 0,
  "time_in_force": 1,
  "reduce_only": 1,
  "trigger_price": 0
}
2025-10-04 08:32:38,862 - root - DEBUG - Create Order Tx Info: {"AccountIndex":107607,"ApiKeyIndex":25,"MarketIndex":24,"ClientOrderIndex":745966,"BaseAmount":629,"Price":485623,"IsAsk":1,"Type":0,"TimeInForce":1,"ReduceOnly":1,"TriggerPrice":0,"OrderExpiry":1761985958861,"ExpiredAt":1759567357861,"Nonce":83432,"Sig":"Ocmsnr+4n14MiOs3Cd/yRN33io/h/WvlHEIffdOBLFULDzzkRj+LFYCvK5sSnBbOJ8yf0H1g3poUAYQcut9Q4S7EM8/CJRkKkLOGlE2Xr1Q="}
2025-10-04 08:32:39,141 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
2025-10-04 08:32:39,145 - hedge_cli - ERROR - Lighter leverage set failed: (429)
Reason: Too Many Requests
HTTP response headers: <CIMultiDictProxy('Date': 'Sat, 04 Oct 2025 08:32:38 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '153', 'Connection': 'keep-alive', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Headers': 'Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range', 'Access-Control-Allow-Methods': 'GET, HEAD, POST, PATCH, PUT, DELETE', 'Access-Control-Allow-Origin': '*', 'Access-Control-Expose-Headers': 'Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers', 'Access-Control-Max-Age': '86400', 'Vary': 'Origin', 'Vary': 'Origin')>
HTTP response body: {"code":23000,"message":"Too Many Requests!: L1Address ratelimit reached 0xcEd00358b11CCe2f7156c21373A17A4695164f81. 1 requests per 1 second is allowed"}

2025-10-04 08:32:39,506 - hedge_cli - DEBUG - EdgeX SOL - max: 75.0, default: 10.0
2025-10-04 08:32:39,682 - hedge_cli - DEBUG - Could not get EdgeX leverage: request failed with status code: 429, response: <!DOCTYPE html><html lang="en-US"><head><title>Just a moment...</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="robots" content="noindex,nofollow"><meta name="viewport" content="width=device-width,initial-scale=1"><style>*{box-sizing:border-box;margin:0;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%;color:#313131;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}body{display:flex;flex-direction:column;height:100vh;min-height:100vh}.main-content{margin:8rem auto;padding-left:1.5rem;max-width:60rem}@media (width <= 720px){.main-content{margin-top:4rem}}.h2{line-height:2.25rem;font-size:1.5rem;font-weight:500}@media (width <= 720px){.h2{line-height:1.5rem;font-size:1.25rem}}#challenge-error-text{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI0IyMEYwMyIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjQjIwRjAzIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+");background-repeat:no-repeat;background-size:contain;padding-left:34px}@media (prefers-color-scheme: dark){body{background-color:#222;color:#d9d9d9}}</style><meta http-equiv="refresh" content="360"></head><body><div class="main-wrapper" role="main"><div class="main-content"><noscript><div class="h2"><span id="challenge-error-text">Enable JavaScript and cookies to continue</span></div></noscript></div></div><script>(function(){window._cf_chl_opt = {cvId: '3',cZone: 'pro.edgex.exchange',cType: 'managed',cRay: '98935477bcb5568d',cH: 'oQmPeBBHIuh8_O.hKUaEACBUhNAXaP4VnPuYTeySJ28-1759566759-1.2.1.1-j4bjjbf73lM22PR2XI3KAMs6fWeQJ1WOhdVogJMXnL9cXrlO6T2W3v8hV.WgmcsS',cUPMDTk:"\/api\/v1\/private\/account\/getAccountAsset?accountId=661465148447260821&__cf_chl_tk=kccsaIYwmSRniF7bdqUNLQ31J81vQeDxAkFMu73IGnw-1759566759-1.0.1.1-mmAjlP9W5kUuSOTZyNtCt4kZ9I8aGJMPnrlJZSnXjX4",cFPWv: 'b',cITimeS: '1759566759',cTplC:0,cTplV:5,cTplB: 'cf',fa:"\/api\/v1\/private\/account\/getAccountAsset?accountId=661465148447260821&__cf_chl_f_tk=kccsaIYwmSRniF7bdqUNLQ31J81vQeDxAkFMu73IGnw-1759566759-1.0.1.1-mmAjlP9W5kUuSOTZyNtCt4kZ9I8aGJMPnrlJZSnXjX4",md: '7x.am5JCfBz8pJ8hObKvdUYKfJTeGTnHwKImvadqb1c-1759566759-1.2.1.1-lT6OxnMnOnyY2NRn7ebFTD3p_9x_YcM2qeL2HxpMjQHqGPvhcViZ124uKX6qRCYwI67oVGxq3xOOs5XeZue82Bw1EXO3JliP4BzutS5XE._VVUfOqAJINB2ebYOdOM2ofrHFTZpgmHdIpMOacrdrxWe.sKw9WgrfewbsPeAk0PK7bEwTmvw1SqE0cn9tCAIKQXi3_sniayqTD0mkk9WJCEDeI6SzGZe.hU8Z79Lbrz2pTV7lYJM9C.gaz_mQHgOKMinbsB8pOb3C866dFdspSINQc8Z90e8T_z5qsypJOnkHDoFq5jROIJuzugbXmJK5fLLyYHjZfKlCBesIHWBjN5T9RlGS2IMv.dRzz2oOoA9F3uvqvRhFrv00y3hYMC39CXxzfOWeQm5E.BQO.0TpSW6lHljXm._pLlhRtnw6f9C.qUG2W3wHKVFshkn3b96TR02MmxyNKlBNNBNiiPnjcAEIiTG_w_zVr0Hfw3TJoGHXtHtfap5gBBceqiKRCGwIfVp2DwbatskC1o__pliLlLHEpie4SCBCjeJmeawjChyehcHurQxgsH_ZQvybVZ1M9tIkj6RDVa4OmNdviwW7_M8RVfZnXtXI7iF.fAHsL1PrfQGFtZ6W_KhbphuslNUMRGgpzeeWkrhlVmUcfQSDUlJhBMvwZL7h4Ux.lIfTWZOf_QAq7XBlhU4zi1YQQF7PMoPIeifyQVpuFl0oWqJ.1hDLe9bVCOTuH_URLS_q9h8WyjicVaGZyj1NHGircdpkkn4h440npBqmJc8bon0Z7rpu.cFltwPmAeiekQ2M3S13BKKLEy8GFO0kRW5RAi2f4aeTiDy341jQfhpOzRKXGD7MxQjI8gI97OqmI7KyQj4SDS.ECffCAPMwRA0BWxW1fmhgPDeY1WR3gz_rKxbX1BFJUjKSTy1iXBOtgqzTokTveOjS.CEpTl38knGHGERuzlnY6WaFA930O8HmPLAJq1Dm7gIPdOqPE_dCG.ZR9dwBod95il5K8ast9oRmrvcP',mdrd: 'c437Phuj8aAzxzZUIPM8JM331r2RCX.S4MIn4V3vAUc-1759566759-1.2.1.1-U3cp9JehxkREjx4zJbe7873Duf4_a44aCxT6PCfH_iwY3R1HPVS4xP.TKLbDp4ydpkpZzx_PCgo6qznoOJ6Yg1QMIDoznQVmNldYmjAAT4vpJTvgFjo0fOYPWVWU1VF8RvuePYD3rVXniDxm45Ul7JEBeGfHqUQHqI_GTYqxvgw7d2oLJeE3ACxmv_7wVdrvtUfFkLdB9ZbVk7l.a912DQs_9CzwNtnVGxxhQpbBDfqNJV41tlk3ge6dHS9cJH0Mg80sYTRJFMM_z9V6pCb_kNlJ9F6ceUkasJWDcPAAXbt_a905g12MizvFtkr6LRQ43GdoON_7VJ5H93ZIDb1_eT7GmX1HS99aia8PYy1yYLbklQhfcqr_Xqkpc0i_zoHzDMbcTPO2wuLS2qrlZUPP_VKfY4wSwAItHJddUETOo3W_QEfbcpV9K1d0djcERBmz0Z1sztUCOqTGx9RHIKBR1bUXdxvplOgbRpAiOkgvuPXi5c0aY_RcKDWYxz1gpPSL0linK1SYry3pykmMGmPuxXNp5q7bKXkgxe1yZFdpboRxOyS870.br2cIpj6SdcW.si0jGqEfPoBTrAWYhZRJg8IwgH_wpGv0DP4HN9wUw1EVdkRwXemJpDfvN0XlN17dDJTVIW3slxZQbjKJZKBnioRPq2sRUgZ0Guwly1no.IbXdYWIMPqvrCBO0EoDywXmLl5HbU.LJ.m2n7f9QkiC.3rj16sFTyXVEzF3wmE4.TOwuuQpkJIccKJriQr8TzuB1Rb5kJ4fJO3eqVRFHXkmDBS2Sg.VqwTBBIEq2Dh9_zM2z0pq_qsYKwfJmBgxmeLTyfOk56_M7DBTWcnHmudDqtWBUdqRawR.TL9jBuGDiK11XKk7Sx3tgX84tUizgB33Lev5Lb5dqnMCsGDrN6RO_B9rr1.fRnIcRmv0_JWvIjQGKH8.ycMAuesa2tBnQppnnnUHNhzj5g8F3tJOTV9Y_KZn18rIcMb.89WScmxOCJzjHUPRbW9B0nQwr.HYwGyxDsAtns0tD2a8CzEIsuukmCc5m5ieG5T8GFfNeZh1YS6aKH.riz77v20B44vvbhVQebkGej5244j.d9qi8.mq8CkjrxPCqPO_8lI88iSIwe0PPylp7zmaLH33X77xibiJNazr2Ng1zghWKX7M0PgvNZHiXwsBjZQbpp_0uXjFfRkRp9wFxgYn2oOS6ZwKn.rIe2DRFhaXqEOmfjx7TefNwmCANebGr6kMgk4yWCLOgyh.ozoueN5w4fPjyb3E2IWwvWIsDOEI.cOqTVJ9RHr2mDqb1nTQyu7d4f4UaQXTCF.jEC2m9EKwuT5fxGTU98o5nRBAse.9JmUovpgZHHnWLp5GdxiR3Ryex2fzS9ANhV82VxbNyJvmipEiCfqXBF5_COGuWhjcRSatycVt5t457eaFpbg.Rib5JycqwAgxp1rHDjq2W57u4ULVtdVGrrS3ZlvNsLAezxzsmKJMdVze9tX4pAL8CD_sqNeADHZSl_y9f_ir3WMOaKnisGN_7k7FxjZSuDy3otl_IQ2GC2dmYOncZo7KzK9gKZmEB8NhXuSFzLz5ONTEjHD0nl4o6kIK5CT7c.83V17CQUqJgyO5.YqW8cZq_MH6TWaaRIyg_m.CoLD51q.4n4fU4XisEWWm1C1Cv5TQRYioer9pOpeFpZGwZi6IiJnyiA1H_i0RPgjpgjbmk8kW01113uFfC5FUB7FwVNm2nsPxURXzH_XK0Uvn_pv2cJKJIaFqQhkg5IZBIrfoOJP837o06uasNO3wtvkaCBESuZrt0u9zgXU17lGDGbpf_B7MyJh_gsGNtDJhjKue.LHx9d6Xb99rX8p4k4z5W7yyFjujMzmGga7kR2FKBsYI00oz_OQ1eRQ5PjDBWvLT4B9Ey20kXYjooCR.uFgEWzOoXkuHKpf7Aq3jQgBvr3RTsgMtfN.0bVuLYUSTupoEPYqzjnukgzIROv4J_ksTKsBZkgSeWmtmKE8QfOhOsWxlwN11WAzscsnKanmWMwZ1_V5yn6HQ1bdZZGF16sMviF29gV_ZVqz2.7dS0YbphbBwkRSjN3FmUJsccYg_LF2IlaPIBj4AFxSKBLsrx_O7LXEO0tHrnX0HfRJ62IuT91NS51DW7HzeDPCJtPpk86EpLMmON18Oy4HGbSDBIq7EsTU3YhpIid0DDMo.CM2yvwa2l81Cmzn8sSexDdM',};var a = document.createElement('script');a.src = '/cdn-cgi/challenge-platform/h/b/orchestrate/chl_page/v1?ray=98935477bcb5568d';window._cf_chl_opt.cOgUHash = location.hash === '' && location.href.indexOf('#') !== -1 ? '#' : location.hash;window._cf_chl_opt.cOgUQuery = location.search === '' && location.href.slice(0, location.href.length - window._cf_chl_opt.cOgUHash.length).indexOf('?') !== -1 ? '?' : location.search;if (window.history && window.history.replaceState) {var ogU = location.pathname + window._cf_chl_opt.cOgUQuery + window._cf_chl_opt.cOgUHash;history.replaceState(null, null,"\/api\/v1\/private\/account\/getAccountAsset?accountId=661465148447260821&__cf_chl_rt_tk=kccsaIYwmSRniF7bdqUNLQ31J81vQeDxAkFMu73IGnw-1759566759-1.0.1.1-mmAjlP9W5kUuSOTZyNtCt4kZ9I8aGJMPnrlJZSnXjX4"+ window._cf_chl_opt.cOgUHash);a.onload = function() {history.replaceState(null, null, ogU);}}document.getElementsByTagName('head')[0].appendChild(a);}());</script></body></html>
2025-10-04 08:32:39,754 - hedge_cli - INFO - Final sizes - Lighter: 4.11 (411 scaled units), EdgeX: 4.11
2025-10-04 08:32:39,755 - hedge_cli - INFO - Lighter order: sell 411 units @ 485623 scaled (48.5624 actual)
2025-10-04 08:32:39,757 - root - DEBUG - Create Order Tx Info: {"AccountIndex":107607,"ApiKeyIndex":25,"MarketIndex":24,"ClientOrderIndex":641329,"BaseAmount":411,"Price":485623,"IsAsk":1,"Type":0,"TimeInForce":1,"ReduceOnly":0,"TriggerPrice":0,"OrderExpiry":1761985959756,"ExpiredAt":1759567358756,"Nonce":83433,"Sig":"Xxv5nzdWYfd4LE1NRPHYDa/t98c+BJbWs5HtWqKMTjcF+v+h3GeVFYpOe1ggaf5+Q7TiPdPehoG8N3+HEWdQ15724lixGlTmhhRL60tJ3SU="}
2025-10-04 08:32:40,007 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
2025-10-04 08:32:40,049 - root - DEBUG - Create Order Send Tx Response: code=200 message='{"ratelimit": "didn\'t use volume quota"}' tx_hash='fc224e0170e706892f62a234c46d9b14fd3b6ad6ae4b239b5a681059f5cd4932fb4887875dfd3deb' predicted_execution_time_ms=1759566760203 additional_properties={}
2025-10-04 08:32:40,049 - hedge_cli - INFO - Lighter order placed: tx_hash=fc224e0170e706892f62a234c46d9b14fd3b6ad6ae4b239b5a681059f5cd4932fb4887875dfd3deb
2025-10-04 08:32:40,286 - urllib3.connectionpool - DEBUG - https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=107607&api_key_index=25 HTTP/1.1" 200 26
2025-10-04 08:32:40,288 - hedge_cli - ERROR - Lighter leverage set failed: Lighter: leverage update failed: HTTP response body: code=21104 message='invalid nonce' additional_properties={}
2025-10-04 08:32:40,676 - hedge_cli - ERROR - Error fetching Lighter leverage for SOL: (429)
Reason: Too Many Requests
HTTP response headers: <CIMultiDictProxy('Date': 'Sat, 04 Oct 2025 08:32:40 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '45', 'Connection': 'keep-alive', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Headers': 'Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range', 'Access-Control-Allow-Methods': 'GET, HEAD, POST, PATCH, PUT, DELETE', 'Access-Control-Allow-Origin': '*', 'Access-Control-Expose-Headers': 'Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers', 'Access-Control-Max-Age': '86400', 'Vary': 'Origin', 'Vary': 'Origin')>
HTTP response body: {"code":23000,"message":"Too Many Requests!"}

2025-10-04 08:32:40,676 - hedge_cli - INFO - Checking leverage for BNB...
2025-10-04 08:32:41,179 - urllib3.connectionpool - DEBUG - https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=107607&api_key_index=25 HTTP/1.1" 200 26
2025-10-04 08:32:41,181 - hedge_cli - INFO - signer.create_order response: tx=None, tx_hash=None, err=HTTP response body: code=21104 message='invalid nonce' additional_properties={}
2025-10-04 08:32:41,181 - hedge_cli - INFO - Response types: tx type=<class 'NoneType'>, tx_hash type=<class 'NoneType'>, err type=<class 'str'>
2025-10-04 08:32:41,181 - hedge_cli - WARNING - Lighter reduce-only limit SELL returned error: HTTP response body: code=21104 message='invalid nonce' additional_properties={}
2025-10-04 08:32:42,419 - hedge_cli - DEBUG - EdgeX BNB - max: 50.0, default: 10.0
2025-10-04 08:32:42,424 - asyncio - ERROR - Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x71adbe81c820>
2025-10-04 08:32:42,424 - asyncio - ERROR - Unclosed connector
connections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x71adbdda1f00>, 316527.562203504)])']
connector: <aiohttp.connector.TCPConnector object at 0x71adbe81ca90>
2025-10-04 08:32:43,907 - hedge_cli - DEBUG - Lighter BNB - max: 20.0 (default), default: 3.0
2025-10-04 08:32:43,909 - hedge_cli - INFO - Checking leverage for ASTER...
2025-10-04 08:32:45,511 - hedge_cli - DEBUG - EdgeX ASTER - max: 5.0, default: 5.0
2025-10-04 08:32:46,972 - hedge_cli - DEBUG - Lighter ASTER - max: 20.0 (default), default: 3.0
2025-10-04 08:32:46,973 - hedge_cli - INFO - Checking leverage for PAXG...
2025-10-04 08:32:47,422 - websockets.client - DEBUG - - timed out waiting for TCP close
2025-10-04 08:32:47,422 - websockets.client - DEBUG - x closing TCP connection
2025-10-04 08:32:48,492 - websockets.client - DEBUG - - timed out waiting for TCP close
2025-10-04 08:32:48,493 - websockets.client - DEBUG - x closing TCP connection
2025-10-04 08:32:48,760 - hedge_cli - DEBUG - EdgeX PAXG - max: 5.0, default: 5.0
2025-10-04 08:32:50,053 - websockets.client - DEBUG - - timed out waiting for TCP close
2025-10-04 08:32:50,054 - websockets.client - DEBUG - x closing TCP connection
2025-10-04 08:32:50,193 - hedge_cli - DEBUG - Lighter PAXG - max: 20.0 (default), default: 3.0
2025-10-04 08:32:50,195 - hedge_cli - INFO - Checking leverage for DOGE...
2025-10-04 08:32:51,186 - websockets.client - DEBUG - - timed out waiting for TCP close
2025-10-04 08:32:51,187 - websockets.client - DEBUG - x closing TCP connection
2025-10-04 08:32:51,354 - websockets.client - DEBUG - - timed out waiting for TCP close
2025-10-04 08:32:51,354 - websockets.client - DEBUG - x closing TCP connection
2025-10-04 08:32:51,857 - hedge_cli - DEBUG - EdgeX DOGE - max: 10.0, default: 10.0
2025-10-04 08:32:53,276 - hedge_cli - DEBUG - Lighter DOGE - max: 20.0 (default), default: 3.0
2025-10-04 08:32:53,278 - hedge_cli - INFO - Checking leverage for XRP...
2025-10-04 08:32:54,952 - hedge_cli - DEBUG - EdgeX XRP - max: 15.0, default: 10.0
2025-10-04 08:32:56,977 - hedge_cli - DEBUG - Lighter XRP - max: 20.0 (default), default: 3.0
2025-10-04 08:32:56,979 - hedge_cli - INFO - Checking leverage for LINK...
2025-10-04 08:32:57,432 - websockets.client - DEBUG - - timed out waiting for TCP close
2025-10-04 08:32:57,432 - websockets.client - DEBUG - x aborting TCP connection
2025-10-04 08:32:57,433 - websockets.client - DEBUG - = connection is CLOSED
2025-10-04 08:32:58,503 - websockets.client - DEBUG - - timed out waiting for TCP close
2025-10-04 08:32:58,503 - websockets.client - DEBUG - x aborting TCP connection
2025-10-04 08:32:58,504 - websockets.client - DEBUG - = connection is CLOSED
2025-10-04 08:32:58,636 - hedge_cli - DEBUG - EdgeX LINK - max: 10.0, default: 8.0
2025-10-04 08:33:00,064 - websockets.client - DEBUG - - timed out waiting for TCP close
2025-10-04 08:33:00,065 - websockets.client - DEBUG - x aborting TCP connection
2025-10-04 08:33:00,065 - websockets.client - DEBUG - = connection is CLOSED
2025-10-04 08:33:00,109 - hedge_cli - DEBUG - Lighter LINK - max: 20.0 (default), default: 3.0
2025-10-04 08:33:00,110 - hedge_cli - INFO - Checking leverage for HYPE...
